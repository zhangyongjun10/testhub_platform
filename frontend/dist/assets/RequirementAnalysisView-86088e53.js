import{_ as S,C as v,e as m,o as c,c as d,b as t,f as x,N as T,O as w,t as h,P as I,F as b,y as F,B as g,G as y,A as C}from"./index-054e2682.js";import{u as _,w as D}from"./xlsx-f5126985.js";const R={name:"RequirementAnalysisView",data(){return{manualInput:{title:"",description:"",selectedProject:""},selectedFile:null,documentTitle:"",selectedProject:"",projects:[],isDragOver:!1,isGenerating:!1,currentTaskId:null,progressText:"å‡†å¤‡å¼€å§‹ç”Ÿæˆ...",currentStep:0,pollInterval:null,showResults:!1,generationResult:null}},computed:{canGenerateManual(){return this.manualInput.title.trim()&&this.manualInput.description.trim()&&this.manualInput.description.length<=2e3}},mounted(){this.loadProjects()},beforeUnmount(){this.pollInterval&&clearInterval(this.pollInterval)},methods:{async loadProjects(){try{const i=await v.get("/projects/");this.projects=i.data.results||i.data}catch(i){console.error("åŠ è½½é¡¹ç›®å¤±è´¥:",i)}},handleDrop(i){i.preventDefault(),this.isDragOver=!1;const e=i.dataTransfer.files;e.length>0&&this.handleFileSelect({target:{files:e}})},handleFileSelect(i){const e=i.target.files[0];e&&(["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(e.type)||e.name.match(/\.(pdf|doc|docx|txt)$/i)?(this.selectedFile=e,this.documentTitle=e.name.replace(/\.[^/.]+$/,"")):m.error("è¯·é€‰æ‹© PDFã€Word æˆ– TXT æ ¼å¼çš„æ–‡ä»¶"))},removeFile(){this.selectedFile=null,this.documentTitle="",this.$refs.fileInput.value=""},formatFileSize(i){if(i===0)return"0 Bytes";const e=1024,o=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(i)/Math.log(e));return parseFloat((i/Math.pow(e,r)).toFixed(2))+" "+o[r]},async generateFromManualInput(){if(!this.canGenerateManual){m.error("è¯·å¡«å†™å®Œæ•´çš„éœ€æ±‚ä¿¡æ¯");return}const i=`éœ€æ±‚æ ‡é¢˜: ${this.manualInput.title}

éœ€æ±‚æè¿°:
${this.manualInput.description}`;await this.startGeneration(this.manualInput.title,i,this.manualInput.selectedProject)},async generateFromDocument(){var i,e;if(!this.selectedFile||!this.documentTitle){m.error("è¯·é€‰æ‹©æ–‡ä»¶å¹¶è¾“å…¥æ–‡æ¡£æ ‡é¢˜");return}try{const o=new FormData;o.append("title",this.documentTitle),o.append("file",this.selectedFile),this.selectedProject&&o.append("project",this.selectedProject),m.info("æ­£åœ¨æå–æ–‡æ¡£å†…å®¹...");const r=await v.post("/requirement-analysis/api/documents/",o,{headers:{"Content-Type":"multipart/form-data"}}),n=(await v.get(`/requirement-analysis/api/documents/${r.data.id}/extract_text/`)).data.extracted_text;if(!n||n.trim().length===0){m.error("æ— æ³•ä»æ–‡æ¡£ä¸­æå–åˆ°æœ‰æ•ˆå†…å®¹ï¼Œè¯·æ£€æŸ¥æ–‡æ¡£æ ¼å¼");return}const s=`æ–‡æ¡£æ ‡é¢˜: ${this.documentTitle}

æ–‡æ¡£å†…å®¹:
${n}`;await this.startGeneration(this.documentTitle,s,this.selectedProject)}catch(o){console.error("æ–‡æ¡£å¤„ç†å¤±è´¥:",o),m.error("æ–‡æ¡£å¤„ç†å¤±è´¥: "+(((e=(i=o.response)==null?void 0:i.data)==null?void 0:e.error)||o.message))}},async startGeneration(i,e,o){var r,l;this.isGenerating=!0,this.currentStep=1,this.progressText="æ­£åœ¨åˆ›å»ºç”Ÿæˆä»»åŠ¡...";try{const n={title:i,requirement_text:e,use_writer_model:!0,use_reviewer_model:!0};o&&(n.project=o);const s=await v.post("/requirement-analysis/api/testcase-generation/generate/",n);this.currentTaskId=s.data.task_id,this.progressText="ä»»åŠ¡å·²åˆ›å»ºï¼Œæ­£åœ¨å¤„ç†ä¸­...",m.success("æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆä»»åŠ¡å·²å¯åŠ¨"),this.startPolling()}catch(n){console.error("åˆ›å»ºç”Ÿæˆä»»åŠ¡å¤±è´¥:",n),m.error("åˆ›å»ºä»»åŠ¡å¤±è´¥: "+(((l=(r=n.response)==null?void 0:r.data)==null?void 0:l.error)||n.message)),this.isGenerating=!1}},startPolling(){this.pollInterval=setInterval(async()=>{try{const e=(await v.get(`/requirement-analysis/api/testcase-generation/${this.currentTaskId}/progress/`)).data;if(console.log(`ä»»åŠ¡çŠ¶æ€: ${e.status}, è¿›åº¦: ${e.progress}%`),e.status==="generating")this.currentStep=2,this.progressText="æ­£åœ¨ç¼–å†™æµ‹è¯•ç”¨ä¾‹...";else if(e.status==="reviewing")this.currentStep=3,this.progressText="æ­£åœ¨è¯„å®¡æµ‹è¯•ç”¨ä¾‹...";else if(e.status==="completed"){this.currentStep=4,this.progressText="ç”Ÿæˆå®Œæˆï¼",this.generationResult=e,this.showResults=!0,this.isGenerating=!1,clearInterval(this.pollInterval),this.pollInterval=null,m.success("æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå®Œæˆï¼");return}else if(e.status==="failed"){this.progressText="ç”Ÿæˆå¤±è´¥",this.isGenerating=!1,clearInterval(this.pollInterval),this.pollInterval=null,m.error("æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå¤±è´¥: "+(e.error_message||"æœªçŸ¥é”™è¯¯"));return}}catch(i){console.error("æ£€æŸ¥ä»»åŠ¡è¿›åº¦å¤±è´¥:",i)}},3e3)},cancelGeneration(){this.pollInterval&&(clearInterval(this.pollInterval),this.pollInterval=null),this.isGenerating=!1,this.currentTaskId=null,m.info("å·²å–æ¶ˆç”Ÿæˆä»»åŠ¡")},async downloadTestCases(){try{const i=this.generationResult.final_test_cases,e=this.generationResult.task_id,o=_.book_new(),r=this.filterTestCasesOnly(i),l=this.parseTableFormat(r);let n=[];if(l.length>0){if(n=l,n.length>0){const u=n[0];for(let p=0;p<u.length;p++)u[p]&&u[p].includes("æµ‹è¯•æ­¥éª¤")&&(u[p]=u[p].replace("æµ‹è¯•æ­¥éª¤","æ“ä½œæ­¥éª¤")),u[p]&&u[p].includes("Test Steps")&&(u[p]=u[p].replace("Test Steps","æ“ä½œæ­¥éª¤"))}}else n=this.parseStructuredFormat(r);n=n.map(u=>u.map(p=>this.convertBrToNewline(p)));const s=_.aoa_to_sheet(n),f=[{wch:15},{wch:30},{wch:25},{wch:40},{wch:30},{wch:10}];if(s["!cols"]=f,n.length>1){for(let u=0;u<Math.min(6,n[0].length);u++){const p=_.encode_cell({r:0,c:u});s[p]&&(s[p].s={font:{bold:!0},alignment:{horizontal:"center",vertical:"center",wrapText:!0}})}for(let u=1;u<n.length;u++)for(let p=0;p<Math.min(6,n[u].length);p++){const k=_.encode_cell({r:u,c:p});s[k]&&(s[k].s={alignment:{vertical:"top",wrapText:!0}})}}_.book_append_sheet(o,s,"æµ‹è¯•ç”¨ä¾‹");const a=`æµ‹è¯•ç”¨ä¾‹_${e}_${new Date().toISOString().slice(0,10)}.xlsx`;D(o,a),m.success("æµ‹è¯•ç”¨ä¾‹ä¸‹è½½æˆåŠŸ")}catch(i){console.error("ä¸‹è½½æµ‹è¯•ç”¨ä¾‹å¤±è´¥:",i),m.error("ä¸‹è½½æµ‹è¯•ç”¨ä¾‹å¤±è´¥: "+(i.message||"æœªçŸ¥é”™è¯¯"))}},async saveToTestCaseRecords(){var i,e;try{const o=await v.post(`/requirement-analysis/api/testcase-generation/${this.generationResult.task_id}/save_to_records/`);if(o.data.already_saved)m.info("æµ‹è¯•ç”¨ä¾‹å·²ç»ä¿å­˜è¿‡äº†");else{const r=o.data.imported_count||0;m.success(`æµ‹è¯•ç”¨ä¾‹å·²ä¿å­˜ï¼å·²å¯¼å…¥ ${r} æ¡æµ‹è¯•ç”¨ä¾‹åˆ°æµ‹è¯•ç”¨ä¾‹ç®¡ç†ç³»ç»Ÿ`)}}catch(o){console.error("ä¿å­˜æµ‹è¯•ç”¨ä¾‹å¤±è´¥:",o),m.error("ä¿å­˜æµ‹è¯•ç”¨ä¾‹å¤±è´¥: "+(((e=(i=o.response)==null?void 0:i.data)==null?void 0:e.error)||o.message))}},resetGeneration(){this.isGenerating=!1,this.currentTaskId=null,this.progressText="å‡†å¤‡å¼€å§‹ç”Ÿæˆ...",this.currentStep=0,this.showResults=!1,this.generationResult=null,this.pollInterval&&(clearInterval(this.pollInterval),this.pollInterval=null)},formatDateTime(i){if(!i)return"";const e=new Date(i),o=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0"),n=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0");return`${o}-${r}-${l} ${n}:${s}`},convertBrToNewline(i){return i?i.replace(/<br\s*\/?>/gi,`
`):""},filterTestCasesOnly(i){if(!i)return"";const e=i.split(`
`),o=[];let r=!0;for(let l of e){const n=l.trim();if(n.includes("æ€»ç»“")||n.includes("å»ºè®®")||n.includes("Summary")||n.includes("Recommendation")||n.includes("æœ€å")||n.includes("è¡¥å……è¯´æ˜")){r=!1;break}r&&o.push(l)}return o.join(`
`)},parseTableFormat(i){if(!i)return[];const e=i.split(`
`).filter(r=>r.trim()),o=[];for(let r of e){const l=r.trim();if(l.includes("|")&&!l.includes("--------")){const n=l.split("|").map(s=>s.trim()).filter(s=>s);n.length>1&&o.push(n)}}return o},parseStructuredFormat(i){if(!i)return[];const e=i.split(`
`).filter(s=>s.trim()),o=[];o.push(["æµ‹è¯•ç”¨ä¾‹ç¼–å·","æµ‹è¯•åœºæ™¯","å‰ç½®æ¡ä»¶","æ“ä½œæ­¥éª¤","é¢„æœŸç»“æœ","ä¼˜å…ˆçº§"]);let r={},l=1,n=0;for(;n<e.length;){const s=e[n].trim();if(s.includes("æµ‹è¯•ç”¨ä¾‹")||s.includes("Test Case")||s.match(/^(\d+\.|\*|\-|\d+ã€)/))Object.keys(r).length>0&&(o.push([r.number||`TC${l}`,r.scenario||"",r.precondition||"",r.steps||"",r.expected||"",r.priority||"ä¸­"]),l++),r={number:`TC${l}`,scenario:s.replace(/^(\d+\.|\*|\-|\d+ã€)\s*/,"").replace(/æµ‹è¯•ç”¨ä¾‹\d*[:ï¼š]?\s*/,""),precondition:"",steps:"",expected:"",priority:"ä¸­"},n++;else if(s.includes("å‰ç½®æ¡ä»¶")||s.includes("å‰æ")||s.includes("Precondition")){let f=s.replace(/.*?[:ï¼š]\s*/,"");for(n++;n<e.length;){const a=e[n].trim();if(a.includes("æµ‹è¯•æ­¥éª¤")||a.includes("æ“ä½œæ­¥éª¤")||a.includes("Test Steps")||a.includes("æ­¥éª¤")||a.includes("é¢„æœŸç»“æœ")||a.includes("Expected")||a.includes("ä¼˜å…ˆçº§")||a.includes("Priority")||a.includes("æµ‹è¯•ç”¨ä¾‹")||a.includes("Test Case")||a.match(/^(\d+\.|\*|\-|\d+ã€)/))break;a&&(f+=`
`+a),n++}r.precondition=f}else if(s.includes("æµ‹è¯•æ­¥éª¤")||s.includes("æ“ä½œæ­¥éª¤")||s.includes("Test Steps")||s.includes("æ­¥éª¤")){let f=s.replace(/.*?[:ï¼š]\s*/,"");for(n++;n<e.length;){const a=e[n].trim();if(a.includes("é¢„æœŸç»“æœ")||a.includes("Expected")||a.includes("ä¼˜å…ˆçº§")||a.includes("Priority")||a.includes("æµ‹è¯•ç”¨ä¾‹")||a.includes("Test Case")||a.match(/^(\d+\.|\*|\-|\d+ã€)/))break;a&&(f+=`
`+a),n++}r.steps=f}else if(s.includes("é¢„æœŸç»“æœ")||s.includes("Expected")||s.includes("æœŸæœ›")){let f=s.replace(/.*?[:ï¼š]\s*/,"");for(n++;n<e.length;){const a=e[n].trim();if(a.includes("ä¼˜å…ˆçº§")||a.includes("Priority")||a.includes("æµ‹è¯•ç”¨ä¾‹")||a.includes("Test Case")||a.match(/^(\d+\.|\*|\-|\d+ã€)/))break;a&&(f+=`
`+a),n++}r.expected=f}else s.includes("ä¼˜å…ˆçº§")||s.includes("Priority")?(r.priority=s.replace(/.*?[:ï¼š]\s*/,""),n++):(Object.keys(r).length>0&&!r.steps&&!r.expected&&!r.precondition&&r.scenario&&s.length>5&&(r.scenario+=`
`+s),n++)}return Object.keys(r).length>0&&o.push([r.number||`TC${l}`,r.scenario||"",r.precondition||"",r.steps||"",r.expected||"",r.priority||"ä¸­"]),o.length<=1&&(o.length=0,o.push(["æµ‹è¯•ç”¨ä¾‹å†…å®¹"]),i.split(`
`).forEach((s,f)=>{s.trim()&&o.push([s.trim()])})),o}}},G={class:"requirement-analysis"},M={class:"main-content"},P={key:0,class:"manual-input-section"},j={class:"manual-input-card"},q={class:"input-form"},O={class:"form-group"},B={class:"form-group"},L={class:"char-count"},V={class:"form-group"},A=["value"],N=["disabled"],z={key:0},E={key:1},U={key:1,class:"divider"},H={key:2,class:"upload-section"},W={class:"upload-card"},X={key:0,class:"upload-placeholder"},K={key:1,class:"file-selected"},Y={class:"file-info"},J={class:"file-details"},Q={class:"file-name"},Z={class:"file-size"},$={key:0,class:"document-info"},ee={class:"form-group"},te={class:"form-group"},se=["value"],ne=["disabled"],le={key:0},ie={key:1},re={key:3,class:"generation-progress"},oe={class:"progress-card"},ae={class:"progress-info"},ue={class:"progress-item"},ce={class:"value"},de={class:"progress-item"},pe={class:"value"},me={class:"progress-steps"},fe={key:4,class:"generation-result"},he={class:"result-header"},ge={class:"result-summary"},ve={class:"summary-item"},Te={class:"summary-item"},ye={class:"generated-testcases-section"},_e={class:"testcase-content"},we=["innerHTML"],ke={key:0,class:"review-feedback-section"},xe={class:"review-content"},Ie={key:1,class:"final-testcases-section"},be={class:"testcase-content"},Fe=["innerHTML"],Se={key:2,class:"actions-section"};function Ce(i,e,o,r,l,n){return c(),d("div",G,[e[45]||(e[45]=t("div",{class:"page-header"},[t("h1",null,"æ™ºèƒ½æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ"),t("p",null,"åŸºäºéœ€æ±‚æè¿°æˆ–æ–‡æ¡£ï¼ŒAIå°†ç›´æ¥ä¸ºæ‚¨ç”Ÿæˆé«˜è´¨é‡çš„æµ‹è¯•ç”¨ä¾‹")],-1)),t("div",M,[!l.isGenerating&&!l.showResults?(c(),d("div",P,[t("div",j,[e[22]||(e[22]=t("h2",null,"âœï¸ æ‰‹åŠ¨è¾“å…¥éœ€æ±‚æè¿°",-1)),t("div",q,[t("div",O,[e[18]||(e[18]=t("label",null,[x("éœ€æ±‚æ ‡é¢˜ "),t("span",{class:"required"},"*")],-1)),T(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>l.manualInput.title=s),type:"text",class:"form-input",placeholder:"è¯·è¾“å…¥éœ€æ±‚æ ‡é¢˜ï¼Œå¦‚ï¼šç”¨æˆ·ç™»å½•åŠŸèƒ½éœ€æ±‚"},null,512),[[w,l.manualInput.title]])]),t("div",B,[e[19]||(e[19]=t("label",null,[x("éœ€æ±‚æè¿° "),t("span",{class:"required"},"*")],-1)),T(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.manualInput.description=s),class:"form-textarea",rows:"8",placeholder:`è¯·è¯¦ç»†æè¿°æ‚¨çš„éœ€æ±‚ï¼ŒåŒ…æ‹¬åŠŸèƒ½æè¿°ã€ä½¿ç”¨åœºæ™¯ã€ä¸šåŠ¡æµç¨‹ç­‰ã€‚ä¾‹å¦‚ï¼š

1. ç”¨æˆ·å¯ä»¥é€šè¿‡ç”¨æˆ·åå’Œå¯†ç ç™»å½•ç³»ç»Ÿ
2. ç³»ç»Ÿéœ€è¦éªŒè¯ç”¨æˆ·èº«ä»½
3. ç™»å½•æˆåŠŸåè·³è½¬åˆ°ä¸»é¡µé¢
4. æ”¯æŒè®°ä½ç™»å½•çŠ¶æ€
5. ç™»å½•å¤±è´¥è¦ç»™å‡ºæ˜ç¡®æç¤º...`},null,512),[[w,l.manualInput.description]]),t("div",L,h(l.manualInput.description.length)+"/2000",1)]),t("div",V,[e[21]||(e[21]=t("label",null,"å…³è”é¡¹ç›®ï¼ˆå¯é€‰ï¼‰",-1)),T(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.manualInput.selectedProject=s),class:"form-select"},[e[20]||(e[20]=t("option",{value:""},"è¯·é€‰æ‹©é¡¹ç›®",-1)),(c(!0),d(b,null,F(l.projects,s=>(c(),d("option",{key:s.id,value:s.id},h(s.name),9,A))),128))],512),[[I,l.manualInput.selectedProject]])]),t("button",{class:"generate-manual-btn",onClick:e[3]||(e[3]=(...s)=>n.generateFromManualInput&&n.generateFromManualInput(...s)),disabled:!n.canGenerateManual||l.isGenerating},[l.isGenerating?(c(),d("span",z,"ğŸ”„ ç”Ÿæˆä¸­...")):(c(),d("span",E,"ğŸš€ ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹"))],8,N)])])])):g("",!0),!l.isGenerating&&!l.showResults?(c(),d("div",U,e[23]||(e[23]=[t("span",null,"æˆ–",-1)]))):g("",!0),!l.isGenerating&&!l.showResults?(c(),d("div",H,[t("div",W,[e[31]||(e[31]=t("h2",null,"ğŸ“„ ä¸Šä¼ éœ€æ±‚æ–‡æ¡£",-1)),t("div",{class:y(["upload-area",{"drag-over":l.isDragOver}]),onDragover:e[7]||(e[7]=C(()=>{},["prevent"])),onDrop:e[8]||(e[8]=(...s)=>n.handleDrop&&n.handleDrop(...s)),onDragenter:e[9]||(e[9]=s=>l.isDragOver=!0),onDragleave:e[10]||(e[10]=s=>l.isDragOver=!1)},[l.selectedFile?(c(),d("div",K,[t("div",Y,[e[27]||(e[27]=t("i",{class:"file-icon"},"ğŸ“„",-1)),t("div",J,[t("p",Q,h(l.selectedFile.name),1),t("p",Z,h(n.formatFileSize(l.selectedFile.size)),1)]),t("button",{class:"remove-file",onClick:e[6]||(e[6]=(...s)=>n.removeFile&&n.removeFile(...s))},"âŒ")])])):(c(),d("div",X,[e[24]||(e[24]=t("i",{class:"upload-icon"},"ğŸ“",-1)),e[25]||(e[25]=t("p",null,"æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„æˆ–ç‚¹å‡»é€‰æ‹©æ–‡ä»¶",-1)),e[26]||(e[26]=t("p",{class:"upload-hint"},"æ”¯æŒ PDFã€Wordã€TXT æ ¼å¼",-1)),t("input",{type:"file",ref:"fileInput",onChange:e[4]||(e[4]=(...s)=>n.handleFileSelect&&n.handleFileSelect(...s)),accept:".pdf,.doc,.docx,.txt",style:{display:"none"}},null,544),t("button",{class:"select-file-btn",onClick:e[5]||(e[5]=s=>i.$refs.fileInput.click())}," é€‰æ‹©æ–‡ä»¶ ")]))],34),l.selectedFile?(c(),d("div",$,[t("div",ee,[e[28]||(e[28]=t("label",null,"æ–‡æ¡£æ ‡é¢˜",-1)),T(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>l.documentTitle=s),type:"text",class:"form-input",placeholder:"è¯·è¾“å…¥æ–‡æ¡£æ ‡é¢˜"},null,512),[[w,l.documentTitle]])]),t("div",te,[e[30]||(e[30]=t("label",null,"å…³è”é¡¹ç›®ï¼ˆå¯é€‰ï¼‰",-1)),T(t("select",{"onUpdate:modelValue":e[12]||(e[12]=s=>l.selectedProject=s),class:"form-select"},[e[29]||(e[29]=t("option",{value:""},"è¯·é€‰æ‹©é¡¹ç›®",-1)),(c(!0),d(b,null,F(l.projects,s=>(c(),d("option",{key:s.id,value:s.id},h(s.name),9,se))),128))],512),[[I,l.selectedProject]])]),t("button",{class:"generate-btn",onClick:e[13]||(e[13]=(...s)=>n.generateFromDocument&&n.generateFromDocument(...s)),disabled:!l.documentTitle||l.isGenerating},[l.isGenerating?(c(),d("span",le,"ğŸ”„ ç”Ÿæˆä¸­...")):(c(),d("span",ie,"ğŸš€ ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹"))],8,ne)])):g("",!0)])])):g("",!0),l.isGenerating?(c(),d("div",re,[t("div",oe,[e[38]||(e[38]=t("h3",null,"ğŸ¤– AIæ­£åœ¨ä¸ºæ‚¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹",-1)),t("div",ae,[t("div",ue,[e[32]||(e[32]=t("span",{class:"label"},"ä»»åŠ¡ID:",-1)),t("span",ce,h(l.currentTaskId||"å‡†å¤‡ä¸­..."),1)]),t("div",de,[e[33]||(e[33]=t("span",{class:"label"},"å½“å‰çŠ¶æ€:",-1)),t("span",pe,h(l.progressText),1)])]),t("div",me,[t("div",{class:y(["step",{active:l.currentStep>=1}])},e[34]||(e[34]=[t("span",{class:"step-number"},"1",-1),t("span",{class:"step-text"},"éœ€æ±‚åˆ†æ",-1)]),2),t("div",{class:y(["step",{active:l.currentStep>=2}])},e[35]||(e[35]=[t("span",{class:"step-number"},"2",-1),t("span",{class:"step-text"},"ç”¨ä¾‹ç¼–å†™",-1)]),2),t("div",{class:y(["step",{active:l.currentStep>=3}])},e[36]||(e[36]=[t("span",{class:"step-number"},"3",-1),t("span",{class:"step-text"},"ç”¨ä¾‹è¯„å®¡",-1)]),2),t("div",{class:y(["step",{active:l.currentStep>=4}])},e[37]||(e[37]=[t("span",{class:"step-number"},"4",-1),t("span",{class:"step-text"},"å®Œæˆ",-1)]),2)]),t("button",{class:"cancel-generation-btn",onClick:e[14]||(e[14]=(...s)=>n.cancelGeneration&&n.cancelGeneration(...s))}," å–æ¶ˆç”Ÿæˆ ")])])):g("",!0),l.showResults&&l.generationResult?(c(),d("div",fe,[t("div",he,[e[39]||(e[39]=t("h2",null,"âœ… æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå®Œæˆ",-1)),t("div",ge,[t("span",ve," ğŸ“Š ä»»åŠ¡ID: "+h(l.generationResult.task_id),1),t("span",Te," â±ï¸ ç”Ÿæˆæ—¶é—´: "+h(n.formatDateTime(l.generationResult.completed_at)),1)]),t("button",{class:"new-generation-btn",onClick:e[15]||(e[15]=(...s)=>n.resetGeneration&&n.resetGeneration(...s))}," ğŸ“ ç”Ÿæˆæ–°çš„æµ‹è¯•ç”¨ä¾‹ ")]),t("div",ye,[e[40]||(e[40]=t("h3",null,"ğŸ“‹ AIç¼–å†™çš„æµ‹è¯•ç”¨ä¾‹",-1)),t("div",_e,[t("div",{innerHTML:l.generationResult.generated_test_cases},null,8,we)])]),l.generationResult.review_feedback?(c(),d("div",ke,[e[41]||(e[41]=t("h3",null,"ğŸ” AIè¯„å®¡æ„è§",-1)),t("div",xe,[t("pre",null,h(l.generationResult.review_feedback),1)])])):g("",!0),l.generationResult.final_test_cases?(c(),d("div",Ie,[e[42]||(e[42]=t("h3",null,"ğŸ¯ æœ€ç»ˆæµ‹è¯•ç”¨ä¾‹",-1)),t("div",be,[t("div",{innerHTML:l.generationResult.final_test_cases},null,8,Fe)])])):g("",!0),l.generationResult.final_test_cases?(c(),d("div",Se,[t("button",{class:"download-btn",onClick:e[16]||(e[16]=(...s)=>n.downloadTestCases&&n.downloadTestCases(...s))},e[43]||(e[43]=[t("span",null,"ğŸ“¥ ä¸‹è½½æµ‹è¯•ç”¨ä¾‹(.xlsx)",-1)])),t("button",{class:"save-btn",onClick:e[17]||(e[17]=(...s)=>n.saveToTestCaseRecords&&n.saveToTestCaseRecords(...s))},e[44]||(e[44]=[t("span",null,"ğŸ’¾ ä¿å­˜åˆ°ç”¨ä¾‹è®°å½•",-1)]))])):g("",!0)])):g("",!0)])])}const Ge=S(R,[["render",Ce],["__scopeId","data-v-2d605375"]]);export{Ge as default};
