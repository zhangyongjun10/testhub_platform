import{_ as U,q as _,x as D,r as w,o,c as a,b as e,d as i,w as d,t as l,B as k,F as C,y as B,C as E,e as m,g as M,ao as V,f as v}from"./index-054e2682.js";const N={class:"ui-env-config"},S={class:"main-content"},$={class:"check-section"},z={key:0,class:"last-check"},F={key:0,class:"env-status-grid"},L={class:"os-info-card"},T={class:"os-name"},q={class:"browser-cards"},A={class:"browser-content"},P={class:"browser-icon"},j=["src","alt"],G={class:"browser-info"},H={class:"status-row"},J={class:"browser-cards"},K={class:"browser-content"},O={class:"browser-icon"},Q=["src","alt"],R={class:"browser-info"},W={class:"status-row"},X={key:0,class:"browser-actions"},Y={__name:"UIEnvironmentConfig",setup(Z){const g=_(!1),f=_(null),h=_(""),c=_(null),x=n=>({chrome:"https://raw.githubusercontent.com/alrra/browser-logos/main/src/chrome/chrome_48x48.png",firefox:"https://raw.githubusercontent.com/alrra/browser-logos/main/src/firefox/firefox_48x48.png",safari:"https://raw.githubusercontent.com/alrra/browser-logos/main/src/safari/safari_48x48.png",edge:"https://raw.githubusercontent.com/alrra/browser-logos/main/src/edge/edge_48x48.png",chromium:"https://raw.githubusercontent.com/alrra/browser-logos/main/src/chromium/chromium_48x48.png",webkit:"https://raw.githubusercontent.com/alrra/browser-logos/main/src/webkit/webkit_48x48.png"})[n]||"",p=n=>n.charAt(0).toUpperCase()+n.slice(1),y=async()=>{g.value=!0;try{const n=await E.get("/ui-automation/config/environment/check_environment/");c.value=n.data,h.value=new Date().toLocaleString(),m.success("çŽ¯å¢ƒæ£€æµ‹å®Œæˆ")}catch(n){console.error("çŽ¯å¢ƒæ£€æµ‹å¤±è´¥:",n),m.error("çŽ¯å¢ƒæ£€æµ‹å¤±è´¥")}finally{g.value=!1}},I=async n=>{var t,u;f.value=n;try{await E.post("/ui-automation/config/environment/install_driver/",{browser:n}),m.success(`${p(n)} é©±åŠ¨å®‰è£…æˆåŠŸ`),await y()}catch(r){console.error("é©±åŠ¨å®‰è£…å¤±è´¥:",r),m.error(`é©±åŠ¨å®‰è£…å¤±è´¥: ${((u=(t=r.response)==null?void 0:t.data)==null?void 0:u.error)||r.message}`)}finally{f.value=null}};return D(()=>{y()}),(n,t)=>{const u=w("el-icon"),r=w("el-button"),b=w("el-tag");return o(),a("div",N,[t[5]||(t[5]=e("div",{class:"page-header"},[e("h1",null,"ðŸ–¥ï¸ UIè‡ªåŠ¨åŒ–çŽ¯å¢ƒé…ç½®"),e("p",null,"æ£€æµ‹å’Œç®¡ç†æµè§ˆå™¨é©±åŠ¨çŽ¯å¢ƒ")],-1)),e("div",S,[e("div",$,[i(r,{type:"primary",size:"large",onClick:y,loading:g.value},{default:d(()=>[i(u,null,{default:d(()=>[i(M(V))]),_:1}),t[0]||(t[0]=v(" æ£€æµ‹çŽ¯å¢ƒ ",-1))]),_:1,__:[0]},8,["loading"]),h.value?(o(),a("div",z," ä¸Šæ¬¡æ£€æµ‹æ—¶é—´: "+l(h.value),1)):k("",!0)]),c.value?(o(),a("div",F,[e("div",L,[t[1]||(t[1]=e("h3",null,"ðŸ–¥ï¸ æ“ä½œç³»ç»Ÿ",-1)),e("div",T,l(c.value.os),1)]),t[3]||(t[3]=e("div",{class:"section-title"},[e("h3",null,"ðŸŒ ç³»ç»Ÿæµè§ˆå™¨ (Seleniumæ”¯æŒ)")],-1)),e("div",q,[(o(!0),a(C,null,B(c.value.system_browsers,s=>(o(),a("div",{key:s.name,class:"browser-card"},[e("div",A,[e("div",P,[e("img",{src:x(s.name),alt:s.name},null,8,j)]),e("div",G,[e("h3",null,l(p(s.name)),1),e("div",H,[i(b,{type:s.installed?"success":"info",effect:"dark"},{default:d(()=>[v(l(s.installed?s.version||"å·²å®‰è£…":"æœªå®‰è£…"),1)]),_:2},1032,["type"])])])])]))),128))]),t[4]||(t[4]=e("div",{class:"section-title"},[e("h3",null,"ðŸŽ­ Playwright æµè§ˆå™¨")],-1)),e("div",J,[(o(!0),a(C,null,B(c.value.playwright_browsers,s=>(o(),a("div",{key:s.name,class:"browser-card"},[e("div",K,[e("div",O,[e("img",{src:x(s.name),alt:s.name},null,8,Q)]),e("div",R,[e("h3",null,l(p(s.name)),1),e("div",W,[i(b,{type:s.installed?"success":"warning",effect:"dark"},{default:d(()=>[v(l(s.installed?s.version||"å·²å®‰è£…":"æœªå®‰è£…"),1)]),_:2},1032,["type"])])]),s.installed?k("",!0):(o(),a("div",X,[i(r,{type:"primary",size:"small",onClick:ee=>I(s.name),loading:f.value===s.name},{default:d(()=>t[2]||(t[2]=[v(" ä¸€é”®å®‰è£… ",-1)])),_:2,__:[2]},1032,["onClick","loading"])]))])]))),128))])])):k("",!0)])])}}},te=U(Y,[["__scopeId","data-v-f4f8afef"]]);export{te as default};
