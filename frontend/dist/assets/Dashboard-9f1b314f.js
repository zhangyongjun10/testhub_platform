import{_ as z,q as _,x as E,r as p,o as n,c as f,b as t,d as s,w as e,g as i,ac as j,t as u,l as b,a8 as F,ad as k,F as I,y as V,J as h,D as A,ae as J,H as O,af as w,ag as G,s as K,ah as B,ai as v}from"./index-054e2682.js";import{g as Q,a as U}from"./api-testing-1acf99db.js";const W={class:"dashboard-container"},X={class:"stats-section"},Y={class:"stat-content"},Z={class:"stat-icon bg-blue"},tt={class:"stat-info"},st={class:"stat-value"},at={class:"stat-content"},et={class:"stat-icon bg-green"},ot={class:"stat-info"},it={class:"stat-value"},lt={class:"stat-content"},nt={class:"stat-icon bg-purple"},dt={class:"stat-info"},ct={class:"stat-value"},rt={class:"stat-content"},ut={class:"stat-icon bg-orange"},_t={class:"stat-info"},ft={class:"stat-value"},vt={key:0,class:"loading-container"},pt={key:1,class:"activities-list"},ht={key:2,class:"activities-list"},gt={class:"activity-icon"},yt={class:"activity-content"},mt={class:"activity-description"},bt={class:"activity-meta"},kt={class:"activity-user"},wt={class:"activity-time"},Ct={class:"actions-grid"},Tt={class:"action-icon bg-blue"},Dt={class:"action-icon bg-green"},xt={class:"action-icon bg-cyan"},Pt={class:"action-icon bg-purple"},jt={class:"action-icon bg-orange"},Bt={class:"action-icon bg-indigo"},Ht={class:"features-section"},Lt={class:"feature-icon"},Mt={class:"feature-icon"},St={class:"feature-icon"},Nt={class:"feature-icon"},Rt={__name:"Dashboard",setup($t){const C=_(0),T=_(0),D=_(0),x=_(0),g=_(!1),y=_([]),H=async()=>{g.value=!0;try{const[r,a]=await Promise.all([Q(),U({page_size:20,ordering:"-created_at"})]),o=r.data;C.value=o.project_count||0,T.value=o.interface_count||0,D.value=o.suite_count||0,x.value=o.history_count||0,y.value=a.data.results||[]}catch(r){console.error("加载仪表板数据失败:",r)}finally{g.value=!1}},L=()=>{v.push("/api-testing/projects")},M=()=>{v.push("/api-testing/interfaces")},S=()=>{v.push("/api-testing/automation")},N=()=>{v.push("/api-testing/history")},R=()=>{v.push("/api-testing/environments")},$=()=>{v.push("/api-testing/reports")},q=r=>{if(!r)return"";const a=new Date(r),l=new Date-a;return l<6e4?"刚刚":l<36e5?`${Math.floor(l/6e4)}分钟前`:l<864e5?`${Math.floor(l/36e5)}小时前`:l<6048e5?`${Math.floor(l/864e5)}天前`:a.toLocaleString("zh-CN",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})};return E(()=>{H()}),(r,a)=>{const o=p("el-icon"),l=p("el-card"),d=p("el-col"),m=p("el-row"),P=p("el-empty");return n(),f("div",W,[t("div",X,[s(m,{gutter:20},{default:e(()=>[s(d,{span:6},{default:e(()=>[s(l,{shadow:"hover",class:"stat-card"},{default:e(()=>[t("div",Y,[t("div",Z,[s(o,null,{default:e(()=>[s(i(j))]),_:1})]),t("div",tt,[t("div",st,u(C.value),1),a[0]||(a[0]=t("div",{class:"stat-label"},"接口项目",-1))])])]),_:1})]),_:1}),s(d,{span:6},{default:e(()=>[s(l,{shadow:"hover",class:"stat-card"},{default:e(()=>[t("div",at,[t("div",et,[s(o,null,{default:e(()=>[s(i(b))]),_:1})]),t("div",ot,[t("div",it,u(T.value),1),a[1]||(a[1]=t("div",{class:"stat-label"},"接口数量",-1))])])]),_:1})]),_:1}),s(d,{span:6},{default:e(()=>[s(l,{shadow:"hover",class:"stat-card"},{default:e(()=>[t("div",lt,[t("div",nt,[s(o,null,{default:e(()=>[s(i(F))]),_:1})]),t("div",dt,[t("div",ct,u(D.value),1),a[2]||(a[2]=t("div",{class:"stat-label"},"测试套件",-1))])])]),_:1})]),_:1}),s(d,{span:6},{default:e(()=>[s(l,{shadow:"hover",class:"stat-card"},{default:e(()=>[t("div",rt,[t("div",ut,[s(o,null,{default:e(()=>[s(i(k))]),_:1})]),t("div",_t,[t("div",ft,u(x.value),1),a[3]||(a[3]=t("div",{class:"stat-label"},"执行记录",-1))])])]),_:1})]),_:1})]),_:1})]),s(m,{gutter:20,class:"content-section"},{default:e(()=>[s(d,{span:12},{default:e(()=>[s(l,{class:"recent-activities",title:"操作日志",shadow:"hover"},{default:e(()=>[g.value?(n(),f("div",vt,[s(P,{description:"加载中..."})])):y.value.length===0?(n(),f("div",pt,[s(P,{description:"暂无操作记录"})])):(n(),f("div",ht,[(n(!0),f(I,null,V(y.value,c=>(n(),f("div",{key:c.id,class:"activity-item"},[t("div",gt,[c.operation_type==="create"?(n(),h(o,{key:0,color:"#52c41a"},{default:e(()=>[s(i(A))]),_:1})):c.operation_type==="edit"?(n(),h(o,{key:1,color:"#1890ff"},{default:e(()=>[s(i(J))]),_:1})):c.operation_type==="delete"?(n(),h(o,{key:2,color:"#ff4d4f"},{default:e(()=>[s(i(O))]),_:1})):c.operation_type==="execute"?(n(),h(o,{key:3,color:"#722ed1"},{default:e(()=>[s(i(w))]),_:1})):(n(),h(o,{key:4,color:"#666"},{default:e(()=>[s(i(G))]),_:1}))]),t("div",yt,[t("div",mt,u(c.description),1),t("div",bt,[t("span",kt,u(c.user_name||"系统"),1),t("span",wt,u(q(c.created_at)),1)])])]))),128))]))]),_:1})]),_:1}),s(d,{span:12},{default:e(()=>[s(l,{class:"quick-actions",title:"快速操作",shadow:"hover"},{default:e(()=>[t("div",Ct,[t("div",{class:"action-item",onClick:L},[t("div",Tt,[s(o,null,{default:e(()=>[s(i(j))]),_:1})]),a[4]||(a[4]=t("div",{class:"action-label"},"项目管理",-1))]),t("div",{class:"action-item",onClick:M},[t("div",Dt,[s(o,null,{default:e(()=>[s(i(b))]),_:1})]),a[5]||(a[5]=t("div",{class:"action-label"},"接口管理",-1))]),t("div",{class:"action-item",onClick:S},[t("div",xt,[s(o,null,{default:e(()=>[s(i(w))]),_:1})]),a[6]||(a[6]=t("div",{class:"action-label"},"自动化测试",-1))]),t("div",{class:"action-item",onClick:N},[t("div",Pt,[s(o,null,{default:e(()=>[s(i(k))]),_:1})]),a[7]||(a[7]=t("div",{class:"action-label"},"请求历史",-1))]),t("div",{class:"action-item",onClick:R},[t("div",jt,[s(o,null,{default:e(()=>[s(i(K))]),_:1})]),a[8]||(a[8]=t("div",{class:"action-label"},"环境管理",-1))]),t("div",{class:"action-item",onClick:$},[t("div",Bt,[s(o,null,{default:e(()=>[s(i(B))]),_:1})]),a[9]||(a[9]=t("div",{class:"action-label"},"测试报告",-1))])])]),_:1})]),_:1})]),_:1}),t("div",Ht,[a[18]||(a[18]=t("h2",{class:"section-title"},"核心功能",-1)),s(m,{gutter:20},{default:e(()=>[s(d,{span:6},{default:e(()=>[s(l,{shadow:"hover",class:"feature-card"},{default:e(()=>[t("div",Lt,[s(o,null,{default:e(()=>[s(i(b))]),_:1})]),a[10]||(a[10]=t("h3",{class:"feature-title"},"接口管理",-1)),a[11]||(a[11]=t("p",{class:"feature-description"},"支持HTTP/HTTPS协议，快速导入Swagger/Postman数据，实现接口统一管理。",-1))]),_:1,__:[10,11]})]),_:1}),s(d,{span:6},{default:e(()=>[s(l,{shadow:"hover",class:"feature-card"},{default:e(()=>[t("div",Mt,[s(o,null,{default:e(()=>[s(i(w))]),_:1})]),a[12]||(a[12]=t("h3",{class:"feature-title"},"自动化测试",-1)),a[13]||(a[13]=t("p",{class:"feature-description"},"可视化的测试流程编排，支持断言、提取变量、前置/后置脚本等高级功能。",-1))]),_:1,__:[12,13]})]),_:1}),s(d,{span:6},{default:e(()=>[s(l,{shadow:"hover",class:"feature-card"},{default:e(()=>[t("div",St,[s(o,null,{default:e(()=>[s(i(k))]),_:1})]),a[14]||(a[14]=t("h3",{class:"feature-title"},"定时任务",-1)),a[15]||(a[15]=t("p",{class:"feature-description"},"灵活的定时任务配置，支持Crontab表达式，实现无人值守的自动化回归测试。",-1))]),_:1,__:[14,15]})]),_:1}),s(d,{span:6},{default:e(()=>[s(l,{shadow:"hover",class:"feature-card"},{default:e(()=>[t("div",Nt,[s(o,null,{default:e(()=>[s(i(B))]),_:1})]),a[16]||(a[16]=t("h3",{class:"feature-title"},"多维报告",-1)),a[17]||(a[17]=t("p",{class:"feature-description"},"生成详细的测试报告，包含成功率、响应时间趋势等多维度数据分析。",-1))]),_:1,__:[16,17]})]),_:1})]),_:1})])])}}},Et=z(Rt,[["__scopeId","data-v-688acb37"]]);export{Et as default};
